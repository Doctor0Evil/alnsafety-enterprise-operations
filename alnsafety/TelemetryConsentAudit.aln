// File: alnsafety/TelemetryConsentAudit.aln
node TelemetryConsentAudit inherits SafetyModule {
    input userSession : Session
    input telemetryEvents : EventStream
    output complianceLog : Log

    when telemetryEvents.detect(collect) {
        if userSession.consent != "granted" {
            complianceLog.alert("Unauthorized telemetry event blocked; user consent not present.")
            telemetryEvents.block()
        }
    }
}
